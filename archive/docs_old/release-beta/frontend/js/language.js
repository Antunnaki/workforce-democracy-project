/**
 * LANGUAGE SUPPORT MODULE
 * Multi-language support: English, Spanish, French, German
 */

const TRANSLATIONS = {
    en: {
        // Site header
        site_title: 'Workforce Democracy Project',
        establishment: 'EST 2025',
        
        // Navigation
        nav_civic: 'üó≥Ô∏è Civic Engagement & Transparency',
        nav_jobs: 'üíº Explore Jobs',
        nav_learning: 'üìö Learn',
        nav_faq: 'üí° FAQ',
        nav_local: 'üìç Local Resources',
        nav_philosophy: 'üåü Our Philosophies',
        
        // Hero section
        hero_title: 'Discover Democratic Workplaces & Hold Officials Accountable',
        hero_subtitle: 'A warm, welcoming space to explore how work can be different, track your representatives\' voting records, and connect with ethical businesses. Completely non-partisan. Privacy-first. Free forever.',
        hero_welcome: 'Welcome! This is a friendly space to learn about democratic workplaces and track what your elected officials are actually doing.',
        hero_btn_civic: 'Track Representatives',
        hero_btn_jobs: 'Explore Jobs',
        
        // Feature cards
        feature_civic_title: 'Want to see how your representatives vote?',
        feature_civic_desc: 'Track voting records, bills, and decisions from federal to local government.',
        feature_civic_btn: 'View Representatives',
        feature_voting_title: 'Curious how your opinions compare to officials?',
        feature_voting_desc: 'Vote on bills yourself and see which representatives align with your views.',
        feature_voting_btn: 'Track & Compare Votes',
        feature_jobs_title: 'Wondering what your job looks like in a democratic workplace?',
        feature_jobs_desc: 'Explore 230+ professions and see how they transform when workers have real power.',
        feature_jobs_btn: 'Explore Your Job',
        feature_learning_title: 'Want to learn from real examples and research?',
        feature_learning_desc: 'Watch videos, read studies, and see how democratic workplaces succeed worldwide.',
        feature_learning_btn: 'Start Learning',
        feature_faq_title: 'Have questions about how this all works?',
        feature_faq_desc: 'Get answers to common concerns about housing, economy, wages, and transition.',
        feature_faq_btn: 'Read FAQ',
        
        // Civic section
        civic_title: 'Civic Engagement & Transparency',
        civic_headline: 'Track Representatives, Vote on Bills, Make Your Voice Heard',
        civic_subtitle: 'See how your representatives vote on bills, cast your own votes to track alignment, explore Supreme Court decisions, and hold government accountable‚Äîall in one place',
        civic_select_country: 'Select Country:',
        civic_choose_country: 'Choose a country...',
        civic_search_placeholder: 'Search representatives or bills...',
        civic_bill_type: 'Bill Type:',
        civic_all_types: 'All Types',
        civic_education: 'üìö Education',
        civic_health: 'üè• Health',
        civic_environment: 'üåç Environment',
        civic_economy: 'üí∞ Economy',
        civic_rights: '‚öñÔ∏è Civil Rights',
        civic_labor: 'üíº Labor & Employment',
        civic_housing: 'üè† Housing',
        civic_time_period: 'Time Period:',
        civic_current_session: 'Current Session',
        civic_last_year: 'Last Year',
        civic_full_term: 'Full Term',
        civic_apply_filters: 'Apply Filters',
        civic_placeholder_title: 'Select a country and search to begin',
        civic_placeholder_text: 'Search for representatives by name, district, or explore recent legislation. All data comes directly from official government sources.',
        civic_chat_btn: 'Ask about voting records',
        civic_chat_title: 'Civic Transparency Assistant',
        civic_chat_placeholder: 'Ask about representative voting patterns...',
        
        // Jobs section
        jobs_title: 'Explore Jobs in Democratic Workplaces',
        jobs_subtitle: 'See how your role transforms when workers have real voice and ownership',
        jobs_chat_btn: 'Ask about specific jobs',
        jobs_chat_title: 'Profession Research Assistant',
        jobs_chat_placeholder: 'Ask about any profession...',
        
        // Learning section
        learning_title: 'Learning Resources',
        learning_subtitle: 'Discover through stories, research, and real-world examples',
        learning_all: 'All Resources',
        learning_videos: 'üé• Videos',
        learning_articles: 'üìÑ Articles',
        learning_studies: 'üìä Research',
        learning_interactive: 'üéÆ Interactive',
        
        // Local resources
        local_opt_in_title: 'Personalized Experience (Optional)',
        local_opt_in_text: 'Make your journey more relevant to your location and interests',
        local_privacy_title: 'Your Privacy Protected:',
        local_privacy_1: 'All data stored only on your device',
        local_privacy_2: 'Military-grade encryption',
        local_privacy_3: 'Never shared with anyone',
        local_privacy_4: 'Delete anytime with one click',
        local_enable_btn: 'Enable Personalized Experience',
        local_skip_btn: 'Continue without personalization',
        local_title: 'Local Resources & Ethical Businesses',
        local_subtitle: 'Find ethical businesses and community services near you',
        local_postcode_placeholder: 'Enter your postcode/ZIP',
        local_search_btn: 'Find Resources',
        local_submit_btn: 'Submit a Business',
        
        // Philosophy section
        philosophy_title: 'Our 17 Core Philosophies',
        philosophy_subtitle: 'The principles that guide everything we do',
        
        // Footer
        footer_about: 'About',
        footer_about_text: 'Workforce Democracy Project is a non-partisan educational resource exploring democratic workplaces and government transparency. Completely free, privacy-first, and ad-free forever.',
        footer_privacy: 'Privacy & Security',
        footer_privacy_policy: 'Privacy Policy',
        footer_security: 'Security Information',
        footer_export: 'Export Your Data',
        footer_delete: 'Delete All Data',
        footer_connect: 'Connect',
        footer_connect_text: 'Questions? Suggestions? We\'d love to hear from you.',
        footer_contact: 'Contact Us',
        footer_rights: 'All content freely available under Creative Commons.',
        footer_tracking: 'Zero tracking. Zero ads. Complete privacy.',
        
        // Common
        loading: 'Loading...'
    },
    
    es: {
        // Site header
        site_title: 'Proyecto de Democracia Laboral',
        establishment: 'EST 2025',
        
        // Navigation
        nav_civic: 'üó≥Ô∏è Participaci√≥n C√≠vica y Transparencia',
        nav_jobs: 'üíº Explorar Trabajos',
        nav_learning: 'üìö Aprender',
        nav_faq: 'üí° Preguntas Frecuentes',
        nav_local: 'üìç Recursos Locales',
        nav_philosophy: 'üåü Nuestras Filosof√≠as',
        
        // Hero section
        hero_title: 'Descubre Lugares de Trabajo Democr√°ticos y Responsabiliza a los Funcionarios',
        hero_subtitle: 'Un espacio c√°lido y acogedor para explorar c√≥mo puede ser diferente el trabajo, rastrear los registros de votaci√≥n de tus representantes y conectar con negocios √©ticos. Completamente no partidista. Privacidad primero. Gratis para siempre.',
        hero_welcome: '¬°Bienvenido! Este es un espacio amigable para aprender sobre lugares de trabajo democr√°ticos y rastrear lo que tus funcionarios electos est√°n haciendo realmente.',
        hero_btn_civic: 'Rastrear Representantes',
        hero_btn_jobs: 'Explorar Trabajos',
        
        // Feature cards
        feature_civic_title: '¬øQuieres ver c√≥mo votan tus representantes?',
        feature_civic_desc: 'Rastrea registros de votaci√≥n, proyectos de ley y decisiones desde el gobierno federal hasta el local.',
        feature_civic_btn: 'Ver Representantes',
        feature_voting_title: '¬øCurioso c√≥mo se comparan tus opiniones con los funcionarios?',
        feature_voting_desc: 'Vota t√∫ mismo sobre proyectos de ley y ve qu√© representantes se alinean con tus puntos de vista.',
        feature_voting_btn: 'Rastrear y Comparar Votos',
        feature_jobs_title: '¬øTe preguntas c√≥mo se ve tu trabajo en un lugar de trabajo democr√°tico?',
        feature_jobs_desc: 'Explora m√°s de 230 profesiones y ve c√≥mo se transforman cuando los trabajadores tienen poder real.',
        feature_jobs_btn: 'Explorar Tu Trabajo',
        feature_learning_title: '¬øQuieres aprender de ejemplos reales e investigaci√≥n?',
        feature_learning_desc: 'Mira videos, lee estudios y ve c√≥mo los lugares de trabajo democr√°ticos tienen √©xito en todo el mundo.',
        feature_learning_btn: 'Comenzar a Aprender',
        feature_faq_title: '¬øTienes preguntas sobre c√≥mo funciona todo esto?',
        feature_faq_desc: 'Obt√©n respuestas a preocupaciones comunes sobre vivienda, econom√≠a, salarios y transici√≥n.',
        feature_faq_btn: 'Leer FAQ',
        
        // Civic section
        civic_title: 'Participaci√≥n C√≠vica y Transparencia',
        civic_headline: 'Rastrea Representantes, Vota en Proyectos de Ley, Haz O√≠r Tu Voz',
        civic_subtitle: 'Ve c√≥mo votan tus representantes en proyectos de ley, emite tus propios votos para rastrear la alineaci√≥n, explora decisiones de la Corte Suprema y responsabiliza al gobierno‚Äîtodo en un solo lugar',
        civic_select_country: 'Seleccionar Pa√≠s:',
        civic_choose_country: 'Elegir un pa√≠s...',
        civic_search_placeholder: 'Buscar representantes o proyectos de ley...',
        civic_bill_type: 'Tipo de Ley:',
        civic_all_types: 'Todos los Tipos',
        civic_education: 'üìö Educaci√≥n',
        civic_health: 'üè• Salud',
        civic_environment: 'üåç Medio Ambiente',
        civic_economy: 'üí∞ Econom√≠a',
        civic_rights: '‚öñÔ∏è Derechos Civiles',
        civic_labor: 'üíº Trabajo y Empleo',
        civic_housing: 'üè† Vivienda',
        civic_time_period: 'Per√≠odo de Tiempo:',
        civic_current_session: 'Sesi√≥n Actual',
        civic_last_year: '√öltimo A√±o',
        civic_full_term: 'T√©rmino Completo',
        civic_apply_filters: 'Aplicar Filtros',
        civic_placeholder_title: 'Selecciona un pa√≠s y busca para comenzar',
        civic_placeholder_text: 'Busca representantes por nombre, distrito o explora legislaci√≥n reciente. Todos los datos provienen directamente de fuentes gubernamentales oficiales.',
        civic_chat_btn: 'Preguntar sobre registros de votaci√≥n',
        civic_chat_title: 'Asistente de Transparencia C√≠vica',
        civic_chat_placeholder: 'Pregunta sobre patrones de votaci√≥n...',
        
        // Jobs section
        jobs_title: 'Explorar Trabajos en Lugares de Trabajo Democr√°ticos',
        jobs_subtitle: 'Ve c√≥mo se transforma tu rol cuando los trabajadores tienen voz y propiedad real',
        jobs_chat_btn: 'Preguntar sobre trabajos espec√≠ficos',
        jobs_chat_title: 'Asistente de Investigaci√≥n Profesional',
        jobs_chat_placeholder: 'Pregunta sobre cualquier profesi√≥n...',
        
        // Learning section
        learning_title: 'Recursos de Aprendizaje',
        learning_subtitle: 'Descubre a trav√©s de historias, investigaci√≥n y ejemplos del mundo real',
        learning_all: 'Todos los Recursos',
        learning_videos: 'üé• Videos',
        learning_articles: 'üìÑ Art√≠culos',
        learning_studies: 'üìä Investigaci√≥n',
        learning_interactive: 'üéÆ Interactivo',
        
        // Local resources
        local_opt_in_title: 'Experiencia Personalizada (Opcional)',
        local_opt_in_text: 'Haz tu viaje m√°s relevante a tu ubicaci√≥n e intereses',
        local_privacy_title: 'Tu Privacidad Protegida:',
        local_privacy_1: 'Todos los datos almacenados solo en tu dispositivo',
        local_privacy_2: 'Encriptaci√≥n de grado militar',
        local_privacy_3: 'Nunca compartido con nadie',
        local_privacy_4: 'Eliminar en cualquier momento con un clic',
        local_enable_btn: 'Habilitar Experiencia Personalizada',
        local_skip_btn: 'Continuar sin personalizaci√≥n',
        local_title: 'Recursos Locales y Negocios √âticos',
        local_subtitle: 'Encuentra negocios √©ticos y servicios comunitarios cerca de ti',
        local_postcode_placeholder: 'Ingresa tu c√≥digo postal',
        local_search_btn: 'Buscar Recursos',
        local_submit_btn: 'Enviar un Negocio',
        
        // Philosophy section
        philosophy_title: 'Nuestras 17 Filosof√≠as Fundamentales',
        philosophy_subtitle: 'Los principios que gu√≠an todo lo que hacemos',
        
        // Footer
        footer_about: 'Acerca de',
        footer_about_text: 'El Proyecto de Democracia Laboral es un recurso educativo no partidista que explora lugares de trabajo democr√°ticos y transparencia gubernamental. Completamente gratis, privacidad primero y sin anuncios para siempre.',
        footer_privacy: 'Privacidad y Seguridad',
        footer_privacy_policy: 'Pol√≠tica de Privacidad',
        footer_security: 'Informaci√≥n de Seguridad',
        footer_export: 'Exportar Tus Datos',
        footer_delete: 'Eliminar Todos los Datos',
        footer_connect: 'Conectar',
        footer_connect_text: '¬øPreguntas? ¬øSugerencias? Nos encantar√≠a saber de ti.',
        footer_contact: 'Cont√°ctanos',
        footer_rights: 'Todo el contenido disponible libremente bajo Creative Commons.',
        footer_tracking: 'Cero rastreo. Cero anuncios. Privacidad completa.',
        
        // Common
        loading: 'Cargando...'
    },
    
    fr: {
        // Site header
        site_title: 'Projet de D√©mocratie du Travail',
        establishment: 'EST 2025',
        
        // Navigation
        nav_civic: 'üó≥Ô∏è Engagement Civique et Transparence',
        nav_jobs: 'üíº Explorer les Emplois',
        nav_learning: 'üìö Apprendre',
        nav_faq: 'üí° FAQ',
        nav_local: 'üìç Ressources Locales',
        nav_philosophy: 'üåü Nos Philosophies',
        
        // Hero section
        hero_title: 'D√©couvrez les Lieux de Travail D√©mocratiques et Tenez les √âlus Responsables',
        hero_subtitle: 'Un espace chaleureux et accueillant pour explorer comment le travail peut √™tre diff√©rent, suivre les votes de vos repr√©sentants et se connecter avec des entreprises √©thiques. Compl√®tement non partisan. Confidentialit√© d\'abord. Gratuit pour toujours.',
        hero_welcome: 'Bienvenue! C\'est un espace convivial pour apprendre sur les lieux de travail d√©mocratiques et suivre ce que vos √©lus font r√©ellement.',
        hero_btn_civic: 'Suivre les Repr√©sentants',
        hero_btn_jobs: 'Explorer les Emplois',
        
        // Feature cards
        feature_civic_title: 'Voulez-vous voir comment votent vos repr√©sentants?',
        feature_civic_desc: 'Suivez les votes, les projets de loi et les d√©cisions du gouvernement f√©d√©ral au local.',
        feature_civic_btn: 'Voir les Repr√©sentants',
        feature_voting_title: 'Curieux de savoir comment vos opinions se comparent aux √©lus?',
        feature_voting_desc: 'Votez vous-m√™me sur les projets de loi et voyez quels repr√©sentants s\'alignent avec vos opinions.',
        feature_voting_btn: 'Suivre et Comparer les Votes',
        feature_jobs_title: 'Vous vous demandez √† quoi ressemble votre travail dans un lieu de travail d√©mocratique?',
        feature_jobs_desc: 'Explorez plus de 230 professions et voyez comment elles se transforment quand les travailleurs ont un vrai pouvoir.',
        feature_jobs_btn: 'Explorer Votre Travail',
        feature_learning_title: 'Voulez-vous apprendre d\'exemples r√©els et de recherches?',
        feature_learning_desc: 'Regardez des vid√©os, lisez des √©tudes et voyez comment les lieux de travail d√©mocratiques r√©ussissent dans le monde entier.',
        feature_learning_btn: 'Commencer √† Apprendre',
        feature_faq_title: 'Vous avez des questions sur comment tout cela fonctionne?',
        feature_faq_desc: 'Obtenez des r√©ponses aux pr√©occupations courantes sur le logement, l\'√©conomie, les salaires et la transition.',
        feature_faq_btn: 'Lire la FAQ',
        
        // Civic section
        civic_title: 'Engagement Civique et Transparence',
        civic_headline: 'Suivez les Repr√©sentants, Votez sur les Projets de Loi, Faites Entendre Votre Voix',
        civic_subtitle: 'Voyez comment vos repr√©sentants votent sur les projets de loi, exprimez vos propres votes pour suivre l\'alignement, explorez les d√©cisions de la Cour supr√™me et tenez le gouvernement responsable‚Äîtout au m√™me endroit',
        
        // Add more French translations...
        loading: 'Chargement...'
    },
    
    de: {
        // Site header
        site_title: 'Arbeitsdemokratie-Projekt',
        establishment: 'EST 2025',
        
        // Navigation
        nav_civic: 'üó≥Ô∏è B√ºrgerbeteiligung und Transparenz',
        nav_jobs: 'üíº Jobs Erkunden',
        nav_learning: 'üìö Lernen',
        nav_faq: 'üí° FAQ',
        nav_local: 'üìç Lokale Ressourcen',
        nav_philosophy: 'üåü Unsere Philosophien',
        
        // Hero section
        hero_title: 'Entdecken Sie Demokratische Arbeitspl√§tze und Halten Sie Beamte Verantwortlich',
        hero_subtitle: 'Ein warmer, einladender Raum, um zu erkunden, wie Arbeit anders sein kann, die Abstimmungsaufzeichnungen Ihrer Vertreter zu verfolgen und sich mit ethischen Unternehmen zu verbinden. V√∂llig unparteiisch. Datenschutz zuerst. F√ºr immer kostenlos.',
        hero_welcome: 'Willkommen! Dies ist ein freundlicher Raum, um √ºber demokratische Arbeitspl√§tze zu lernen und zu verfolgen, was Ihre gew√§hlten Beamten tats√§chlich tun.',
        hero_btn_civic: 'Vertreter Verfolgen',
        hero_btn_jobs: 'Jobs Erkunden',
        
        // Feature cards
        feature_civic_title: 'M√∂chten Sie sehen, wie Ihre Vertreter abstimmen?',
        feature_civic_desc: 'Verfolgen Sie Abstimmungsaufzeichnungen, Gesetze und Entscheidungen von der Bundes- bis zur Kommunalebene.',
        feature_civic_btn: 'Vertreter Ansehen',
        feature_voting_title: 'Neugierig, wie Ihre Meinungen mit Beamten vergleichen?',
        feature_voting_desc: 'Stimmen Sie selbst √ºber Gesetze ab und sehen Sie, welche Vertreter mit Ihren Ansichten √ºbereinstimmen.',
        feature_voting_btn: 'Stimmen Verfolgen und Vergleichen',
        feature_jobs_title: 'Fragen Sie sich, wie Ihr Job an einem demokratischen Arbeitsplatz aussieht?',
        feature_jobs_desc: 'Erkunden Sie √ºber 230 Berufe und sehen Sie, wie sie sich verwandeln, wenn Arbeiter echte Macht haben.',
        feature_jobs_btn: 'Ihren Job Erkunden',
        feature_learning_title: 'M√∂chten Sie von echten Beispielen und Forschung lernen?',
        feature_learning_desc: 'Sehen Sie sich Videos an, lesen Sie Studien und sehen Sie, wie demokratische Arbeitspl√§tze weltweit erfolgreich sind.',
        feature_learning_btn: 'Beginnen zu Lernen',
        feature_faq_title: 'Haben Sie Fragen dazu, wie das alles funktioniert?',
        feature_faq_desc: 'Erhalten Sie Antworten auf h√§ufige Bedenken zu Wohnen, Wirtschaft, L√∂hnen und √úbergang.',
        feature_faq_btn: 'FAQ Lesen',
        
        // Privacy badge
        privacy_title: 'Ihr Datenschutz Gesch√ºtzt',
        privacy_text: 'Null Tracker. Milit√§rische Verschl√ºsselung. Alle Daten bleiben auf Ihrem Ger√§t.',
        
        // Civic section
        civic_title: 'B√ºrgerbeteiligung und Transparenz',
        civic_headline: 'Verfolgen Sie Vertreter, Stimmen Sie √ºber Gesetzentwurfe ab, Lassen Sie Ihre Stimme H√∂ren',
        civic_subtitle: 'Sehen Sie, wie Ihre Vertreter √ºber Gesetzentwurfe abstimmen, geben Sie Ihre eigenen Stimmen ab, um die Ausrichtung zu verfolgen, erkunden Sie Entscheidungen des Obersten Gerichtshofs und machen Sie die Regierung rechenschaftspflichtig‚Äîalles an einem Ort',
        
        // Add more German translations...
        loading: 'Laden...'
    }
};

/**
 * Change language
 */
async function changeLanguage(lang) {
    if (!TRANSLATIONS[lang]) {
        console.error('Language not supported:', lang);
        return;
    }
    
    AppState.currentLanguage = lang;
    AppState.preferences.language = lang;
    await saveUserPreferences();
    
    // Update language indicator
    const langBtn = document.getElementById('currentLanguage');
    if (langBtn) {
        langBtn.textContent = lang.toUpperCase();
    }
    
    // Update all translated elements
    applyTranslations(lang);
    
    // Update active state in language menu
    document.querySelectorAll('.language-menu button').forEach(btn => {
        btn.classList.remove('active');
        if (btn.dataset.lang === lang) {
            btn.classList.add('active');
        }
    });
    
    // Close language menus
    const mobileMenu = document.getElementById('languageMenu');
    if (mobileMenu) {
        mobileMenu.classList.remove('active');
    }
    const desktopMenu = document.getElementById('languageMenuDesktop');
    if (desktopMenu) {
        desktopMenu.classList.remove('active');
    }
    
    showNotification(`Language changed to ${getLanguageName(lang)}`, 'success');
}

/**
 * Apply translations to page
 */
function applyTranslations(lang) {
    const translations = TRANSLATIONS[lang];
    
    // Translate elements with data-translate attribute
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.dataset.translate;
        if (translations[key]) {
            element.textContent = translations[key];
        }
    });
    
    // Translate placeholder attributes
    document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
        const key = element.dataset.translatePlaceholder;
        if (translations[key]) {
            element.placeholder = translations[key];
        }
    });
}

/**
 * Get language full name
 */
function getLanguageName(code) {
    const names = {
        en: 'English',
        es: 'Espa√±ol',
        fr: 'Fran√ßais',
        de: 'Deutsch'
    };
    return names[code] || code;
}

// Make function globally available
window.changeLanguage = changeLanguage;
