# ‚ö° ONE-COMMAND DEPLOYMENT ‚ö°

## Copy and paste this SINGLE LINE into your Mac Terminal:

```bash
cd "/Users/acejrowski/Desktop/AG/WORKFORCE DEMOCRACY PROJECT/SITE FILES/WDP-v37.18.0/backend" && scp DIAGNOSE-DEEP-RESEARCH-v37.18.4.sh FIX-DEEP-RESEARCH-CALL-v37.18.4.js DEPLOY-DEEP-RESEARCH-FIX-v37.18.4.sh root@185.193.126.13:/var/www/workforce-democracy/version-b/backend/ && ssh root@185.193.126.13 'cd /var/www/workforce-democracy/version-b/backend && chmod +x DEPLOY-DEEP-RESEARCH-FIX-v37.18.4.sh && ./DEPLOY-DEEP-RESEARCH-FIX-v37.18.4.sh'
```

## What it does:

1. ‚úÖ Changes to your project directory
2. ‚úÖ Uploads all 3 files to VPS Version B
3. ‚úÖ SSHs into VPS
4. ‚úÖ Makes the deployment script executable
5. ‚úÖ Runs the deployment
6. ‚úÖ Shows you the results

## That's literally it!

Just copy the command above, paste it into Terminal, press Enter, and watch it work.

---

## Alternative: Separate Commands (if one-liner fails)

If the one-liner doesn't work, run these commands one at a time:

### 1. Upload files:
```bash
cd "/Users/acejrowski/Desktop/AG/WORKFORCE DEMOCRACY PROJECT/SITE FILES/WDP-v37.18.0/backend"

scp DIAGNOSE-DEEP-RESEARCH-v37.18.4.sh root@185.193.126.13:/var/www/workforce-democracy/version-b/backend/

scp FIX-DEEP-RESEARCH-CALL-v37.18.4.js root@185.193.126.13:/var/www/workforce-democracy/version-b/backend/

scp DEPLOY-DEEP-RESEARCH-FIX-v37.18.4.sh root@185.193.126.13:/var/www/workforce-democracy/version-b/backend/
```

### 2. SSH and deploy:
```bash
ssh root@185.193.126.13

cd /var/www/workforce-democracy/version-b/backend

chmod +x DEPLOY-DEEP-RESEARCH-FIX-v37.18.4.sh

./DEPLOY-DEEP-RESEARCH-FIX-v37.18.4.sh
```

---

## Expected Output:

```
DIAGNOSE-DEEP-RESEARCH-v37.18.4.sh      100%   3KB   1.5MB/s   00:00
FIX-DEEP-RESEARCH-CALL-v37.18.4.js      100%   6KB   3.0MB/s   00:00
DEPLOY-DEEP-RESEARCH-FIX-v37.18.4.sh    100%   3KB   1.5MB/s   00:00

üîß DEEP RESEARCH FIX DEPLOYMENT - v37.18.4
===========================================

üìä STEP 1: Run Diagnostic
‚úÖ deep-research.js EXISTS
‚úÖ Found searchRepresentativeVotingRecord function

üìä STEP 2: Apply Fix
‚úÖ Backed up to: deep-research-BACKUP-before-call-fix-1732589822.js
‚úÖ FIX APPLIED: Added searchCongressGovBills call

üìä STEP 3: Verify Syntax
‚úÖ Syntax check passed

üìä STEP 4: Restart Backend
‚úÖ Service restarted

üìä STEP 5: Verify Service
‚óè workforce-backend-b.service - Workforce Democracy Backend B
   Active: active (running)

üìä STEP 6: Test Deep Research
Job ID: abc-123-xyz
Waiting 30 seconds for processing...

üìä STEP 7: Check Results
üèõÔ∏è Checking for Congress.gov sources:
{
  "title": "H.R. 6249 - Substance Use Services Act",
  "url": "https://api.congress.gov/v3/bill/118/hr/6249",
  "type": "congress_bill",
  "relevanceScore": 500
}

üéâ DEPLOYMENT COMPLETE!
```

---

## Next Steps:

1. **Test on GenSpark:**
   - URL: https://sxcrlfyt.gensparkspace.com
   - ZIP: 12061
   - Ask: "How has Chuck Schumer voted on healthcare?"
   - Expect: Congress.gov bill citations

2. **Deploy to Production** (after testing):
   ```bash
   ssh root@185.193.126.13
   cd /var/www/workforce-democracy/deployment-scripts
   ./sync-b-to-a.sh
   ```

---

**Ready?** Copy the one-liner at the top and paste it into your Mac Terminal! üöÄ
